{"version":3,"file":"MobileHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","MobileUserMenuToggleSlot","Menu","MenuTrigger","MenuContent","LogoSlot","MobileLoggedOutItemsSlot","mobileHeaderLoggedOutItemsDataShape","MobileMainMenuSlot","mobileHeaderMainMenuDataShape","MobileUserMenuSlot","mobileHeaderUserMenuDataShape","messages","MenuIcon","MobileHeader","_React$Component","props","_classCallCheck","_callSuper","_inherits","_createClass","key","value","renderMainMenu","_this$props","mainMenu","secondaryMenu","createElement","menu","concat","_toConsumableArray","renderUserMenuItems","userMenu","renderLoggedOutItems","loggedOutItems","items","renderUserMenuToggle","_this$props2","avatar","username","label","render","_this$props3","logo","logoAltText","logoDestination","loggedIn","stickyOnMobile","intl","logoProps","src","alt","href","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","formatMessage","className","length","tag","title","role","focusable","style","width","height","_extends","itemType","Component","mobileHeaderDataShape","string","bool","propTypes","isRequired","defaultProps"],"sources":["../../src/mobile-header/MobileHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport MobileUserMenuToggleSlot from '../plugin-slots/MobileUserMenuToggleSlot';\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport MobileLoggedOutItemsSlot from '../plugin-slots/MobileLoggedOutItemsSlot';\nimport { mobileHeaderLoggedOutItemsDataShape } from './MobileLoggedOutItems';\nimport MobileMainMenuSlot from '../plugin-slots/MobileMainMenuSlot';\nimport { mobileHeaderMainMenuDataShape } from './MobileHeaderMainMenu';\nimport MobileUserMenuSlot from '../plugin-slots/MobileUserMenuSlot';\nimport { mobileHeaderUserMenuDataShape } from './MobileHeaderUserMenu';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\nimport { MenuIcon } from '../Icons';\n\nclass MobileHeader extends React.Component {\n  constructor(props) { // eslint-disable-line @typescript-eslint/no-useless-constructor\n    super(props);\n  }\n\n  renderMainMenu() {\n    const { mainMenu, secondaryMenu } = this.props;\n    return <MobileMainMenuSlot menu={[...mainMenu, ...secondaryMenu]} />;\n  }\n\n  renderUserMenuItems() {\n    const { userMenu } = this.props;\n    return <MobileUserMenuSlot menu={userMenu} />;\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n    return <MobileLoggedOutItemsSlot items={loggedOutItems} />;\n  }\n\n  renderUserMenuToggle() {\n    const { avatar, username } = this.props;\n    return <MobileUserMenuToggleSlot avatar={avatar} label={username} />;\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      stickyOnMobile,\n      intl,\n      mainMenu,\n      userMenu,\n      loggedOutItems,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n    return (\n      <header\n        aria-label={intl.formatMessage(messages['header.label.main.header'])}\n        className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n      >\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        {mainMenu.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-start\">\n\n            <Menu className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.main.menu'])}\n                title={intl.formatMessage(messages['header.label.main.menu'])}\n              >\n                <MenuIcon role=\"img\" aria-hidden focusable=\"false\" style={{ width: '1.5rem', height: '1.5rem' }} />\n              </MenuTrigger>\n              <MenuContent\n                tag=\"nav\"\n                aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n                className=\"nav flex-column pin-left pin-right border-top shadow py-2\"\n              >\n                {this.renderMainMenu()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n        <div className={`w-100 d-flex ${logoClasses}`}>\n          <LogoSlot {...logoProps} itemType=\"http://schema.org/Organization\" />\n        </div>\n        {userMenu.length > 0 || loggedOutItems.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-end align-items-center\">\n            <Menu tag=\"nav\" aria-label={intl.formatMessage(messages['header.label.secondary.nav'])} className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.account.menu'])}\n                title={intl.formatMessage(messages['header.label.account.menu'])}\n              >\n                {this.renderUserMenuToggle()}\n              </MenuTrigger>\n              <MenuContent tag=\"ul\" className=\"nav flex-column pin-left pin-right border-top shadow py-2\">\n                {loggedIn ? this.renderUserMenuItems() : this.renderLoggedOutItems()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n      </header>\n    );\n  }\n}\n\nexport const mobileHeaderDataShape = {\n  mainMenu: mobileHeaderMainMenuDataShape,\n  secondaryMenu: mobileHeaderMainMenuDataShape,\n  userMenu: mobileHeaderUserMenuDataShape,\n  loggedOutItems: mobileHeaderLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n  stickyOnMobile: PropTypes.bool,\n};\n\nMobileHeader.propTypes = {\n  mainMenu: mobileHeaderDataShape.mainMenu,\n  secondaryMenu: mobileHeaderDataShape.secondaryMenu,\n  userMenu: mobileHeaderDataShape.userMenu,\n  loggedOutItems: mobileHeaderDataShape.loggedOutItems,\n  logo: mobileHeaderDataShape.logo,\n  logoAltText: mobileHeaderDataShape.logoAltText,\n  logoDestination: mobileHeaderDataShape.logoDestination,\n  avatar: mobileHeaderDataShape.avatar,\n  username: mobileHeaderDataShape.username,\n  loggedIn: mobileHeaderDataShape.loggedIn,\n  stickyOnMobile: mobileHeaderDataShape.stickyOnMobile,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nMobileHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n  stickyOnMobile: true,\n\n};\n\nexport default injectIntl(MobileHeader);\n"],"mappings":"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","ignoreList":[]}