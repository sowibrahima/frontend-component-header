{"version":3,"file":"DesktopHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","DesktopUserMenuToggleSlot","Menu","MenuTrigger","MenuContent","LogoSlot","DesktopLoggedOutItemsSlot","desktopLoggedOutItemsDataShape","DesktopMainMenuSlot","desktopHeaderMainOrSecondaryMenuDataShape","DesktopSecondaryMenuSlot","DesktopUserMenuSlot","desktopUserMenuDataShape","messages","DesktopHeader","_React$Component","props","_classCallCheck","_callSuper","_inherits","_createClass","key","value","renderMainMenu","mainMenu","createElement","menu","renderSecondaryMenu","secondaryMenu","renderUserMenu","_this$props","userMenu","avatar","username","intl","transitionClassName","transitionTimeout","tag","formatMessage","className","label","renderLoggedOutItems","loggedOutItems","items","render","_this$props2","logo","logoAltText","logoDestination","loggedIn","logoProps","src","alt","href","logoClasses","AUTHN_MINIMAL_HEADER","concat","Fragment","Component","desktopHeaderDataShape","string","bool","propTypes","isRequired","defaultProps"],"sources":["../../src/desktop-header/DesktopHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport DesktopUserMenuToggleSlot\n  from '../plugin-slots/DesktopUserMenuToggleSlot';\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport DesktopLoggedOutItemsSlot from '../plugin-slots/DesktopLoggedOutItemsSlot';\nimport { desktopLoggedOutItemsDataShape } from './DesktopLoggedOutItems';\nimport DesktopMainMenuSlot from '../plugin-slots/DesktopMainMenuSlot';\nimport { desktopHeaderMainOrSecondaryMenuDataShape } from './DesktopHeaderMainOrSecondaryMenu';\nimport DesktopSecondaryMenuSlot from '../plugin-slots/DesktopSecondaryMenuSlot';\nimport DesktopUserMenuSlot from '../plugin-slots/DesktopUserMenuSlot';\nimport { desktopUserMenuDataShape } from './DesktopHeaderUserMenu';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\n\nclass DesktopHeader extends React.Component {\n  constructor(props) { // eslint-disable-line @typescript-eslint/no-useless-constructor\n    super(props);\n  }\n\n  renderMainMenu() {\n    const { mainMenu } = this.props;\n    return <DesktopMainMenuSlot menu={mainMenu} />;\n  }\n\n  renderSecondaryMenu() {\n    const { secondaryMenu } = this.props;\n    return <DesktopSecondaryMenuSlot menu={secondaryMenu} />;\n  }\n\n  renderUserMenu() {\n    const {\n      userMenu,\n      avatar,\n      username,\n      intl,\n    } = this.props;\n\n    return (\n      <Menu transitionClassName=\"menu-dropdown\" transitionTimeout={250}>\n        <MenuTrigger\n          tag=\"button\"\n          aria-label={intl.formatMessage(messages['header.label.account.menu.for'], { username })}\n          className=\"btn btn-outline-primary d-inline-flex align-items-center pl-2 pr-3\"\n        >\n          <DesktopUserMenuToggleSlot avatar={avatar} label={username} />\n        </MenuTrigger>\n        <MenuContent className=\"mb-0 dropdown-menu show dropdown-menu-right pin-right shadow py-2\">\n          <DesktopUserMenuSlot menu={userMenu} />\n        </MenuContent>\n      </Menu>\n    );\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n    return <DesktopLoggedOutItemsSlot items={loggedOutItems} />;\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      intl,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'mw-100' : null;\n\n    return (\n      <header className=\"site-header-desktop\">\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        <div className={`container-fluid ${logoClasses}`}>\n          <div className=\"nav-container position-relative d-flex align-items-center\">\n            <LogoSlot {...logoProps} />\n            <nav\n              aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n              className=\"nav main-nav\"\n            >\n              {this.renderMainMenu()}\n            </nav>\n            <nav\n              aria-label={intl.formatMessage(messages['header.label.secondary.nav'])}\n              className=\"nav secondary-menu-container align-items-center ml-auto\"\n            >\n              {loggedIn\n                ? (\n                  <>\n                    {this.renderSecondaryMenu()}\n                    {this.renderUserMenu()}\n                  </>\n                ) : this.renderLoggedOutItems()}\n            </nav>\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport const desktopHeaderDataShape = {\n  mainMenu: desktopHeaderMainOrSecondaryMenuDataShape,\n  secondaryMenu: desktopHeaderMainOrSecondaryMenuDataShape,\n  userMenu: desktopUserMenuDataShape,\n  loggedOutItems: desktopLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n};\n\nDesktopHeader.propTypes = {\n  mainMenu: desktopHeaderDataShape.mainMenu,\n  secondaryMenu: desktopHeaderDataShape.secondaryMenu,\n  userMenu: desktopHeaderDataShape.userMenu,\n  loggedOutItems: desktopHeaderDataShape.loggedOutItems,\n  logo: desktopHeaderDataShape.logo,\n  logoAltText: desktopHeaderDataShape.logoAltText,\n  logoDestination: desktopHeaderDataShape.logoDestination,\n  avatar: desktopHeaderDataShape.avatar,\n  username: desktopHeaderDataShape.username,\n  loggedIn: desktopHeaderDataShape.loggedIn,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nDesktopHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n};\n\nexport default injectIntl(DesktopHeader);\n"],"mappings":"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","ignoreList":[]}